# SP-Mamba: Spatial-Perception State Space Model for Unsupervised Medical Anomaly Detection
This repository contains the code for the paper "[https://arxiv.org/abs/2507.19076](SP-Mamba: Spatial-Perception State Space Model for Unsupervised Medical Anomaly Detection)" by Rui Pan Â· Ruiying Lu.

Train and test with `run.sh`.

## Noting
Download dataset ZhangLab Chest X-ray from [ZhangLab Chest X-ray](https://drive.google.com/file/d/1SBLq6KwG9ZptLGM3Nk0neF07bMEjiFFB/view?usp=drive_link) and extract it to `/data/zhanglab`.

Download dataset CheXpert from [CheXpert](https://drive.google.com/file/d/1boMhG7d0QPnPu9_2kBX6g-qbEInQAJ5N/view?usp=drive_link) and extract it to `/data/chexpert`.

Download dataset Uni-Medical from [Uni-Medical](https://drive.google.com/file/d/1Q33X6UMS_2rfdOlHq-Levf7Df7z3tUKp/view) and extract it to `/data/medical`.

Download the pre-trained ResNet34 from [ResNet34](https://drive.google.com/file/d/1te1fMcfFnq2utwWMDysDKENwep_A9ftC/view?usp=drive_link) and extract it to `/model/pretrain`.

## Welcome to discuss with us (luruiying@xidian.edu.cn) and cite our paper:
Rui Pan and Ruiying Lu. SP-Mamba: Spatial-Perception State Space Model for Unsupervised Medical Anomaly Detection.
